tests_prelevements <- paste(
"üîç PCR Chlamydia et Gonocoque :",
paste(prelevements, collapse = ", ")
)
}
# Tests de s√©rologie pour les conditions g√©n√©rales
if (input$sympt_ist || input$multi_part || input$partner_ist || input$stop_condom || input$rapport_prot) {
if (input$vacc_vhb == "Non vaccin√© ou ne sait pas") {
tests_prelevements <- paste(tests_prelevements, "üîç S√©rologies : VIH, Syphilis, VHB", sep = "<br>")
} else {
tests_prelevements <- paste(tests_prelevements, "üîç S√©rologies : VIH, Syphilis", sep = "<br>")
}
}
# Mesures d'urgence uniquement si "Rapport non prot√©g√©" est coch√©
if (input$rapport_prot) {
if (input$pregnant && input$delai %in% c("48", "72_120")) {
urgence <- "‚ö†Ô∏è <b>Contraception d'urgence recommand√©e</b> : Rendez-vous en pharmacie ou au CSS."
}
if (input$vih_risk && input$delai == "48") {
urgence <- paste(urgence, "‚ö†Ô∏è <b>Orientation urgences TPE</b> : Consultez un service d'urgences rapidement.", sep = "<br>")
}
}
# Recommandation PrEP
if (input$vih_risk) {
prep_recommandation <- "üü¢ <b>Vous pouvez parler de la PrEP</b> aux personnes pr√©sentant un risque √©lev√© d‚Äôacquisition du VIH et les orienter vers les centres de sant√© sexuelle."
}
# Affichage dynamique
output$conclusion <- renderUI({
tagList(
if (urgence != "") div(style = "background-color: #FFDDDD; border-left: 5px solid red; padding: 10px; margin-bottom: 10px;", HTML(urgence)),
if (tests_prelevements != "") div(style = "background-color: #EAF2F8; border-left: 5px solid #2980B9; padding: 10px; margin-bottom: 10px;", HTML(paste("<b>Tests et pr√©l√®vements recommand√©s :</b><br>", tests_prelevements))),
if (prep_recommandation != "") div(style = "background-color: #E8F8E9; border-left: 5px solid green; padding: 10px;", HTML(prep_recommandation))
)
})
# R√©capitulatif des r√©ponses
recap_data <- data.frame(
Question = c("Sympt√¥mes d'IST", "Partenaires multiples", "Partenaire porteur d'une IST",
"Arr√™t du pr√©servatif", "Rapport non prot√©g√©", "Personne enceinte", "Risque VIH",
"D√©lai depuis le rapport", "Vaccination VHB", "Types de rapports"),
R√©ponse = c(ifelse(input$sympt_ist, "Oui", "Non"),
ifelse(input$multi_part, "Oui", "Non"),
ifelse(input$partner_ist, "Oui", "Non"),
ifelse(input$stop_condom, "Oui", "Non"),
ifelse(input$rapport_prot, "Oui", "Non"),
ifelse(input$pregnant, "Oui", "Non"),
ifelse(input$vih_risk, "Oui", "Non"),
ifelse(input$delai == "48", "Moins de 48h",
ifelse(input$delai == "72_120", "Entre 72h et 5 jours", "Plus de 5 jours")),
input$vacc_vhb,
ifelse(length(input$type_rapport) == 0, "Aucun", paste(input$type_rapport, collapse = ", ")))
)
output$recap <- renderTable({ recap_data })
})
}
# Lancer l'application
shinyApp(ui = ui, server = server)
library(shiny)
library(shinythemes)
library(shinyBS) # Pour les infobulles interactives
# Interface utilisateur
ui <- fluidPage(
theme = shinytheme("cerulean"), # Th√®me moderne
# Titre principal stylis√©
titlePanel(
div(
style = "text-align: center;
color: #2C3E50;
font-weight: bold;
font-size: 32px;
font-family: 'Helvetica, Arial, sans-serif';
margin-bottom: 20px;",
# Ajout de l'image avant le titre
tags$img(src = "logo.jpeg", height = "100px", style = "display: block; margin-left: auto; margin-right: auto;"),
"Arbre D√©cisionnel - Quel Test √† Qui ?"
)
),
sidebarLayout(
sidebarPanel(
h3("Questionnaire", style = "color: #2980B9;"),
tags$hr(style = "border-color: #2980B9;"),
# Bloc 1: Conditions g√©n√©rales
checkboxInput("sympt_ist", "Pr√©sence de sympt√¥mes d'IST", FALSE),
checkboxInput("multi_part", "Partenaires multiples", FALSE),
checkboxInput("partner_ist", "Partenaire porteur d'une IST", FALSE),
checkboxInput("stop_condom", "Arr√™t du pr√©servatif avec partenaire", FALSE),
tags$hr(),
# Bloc 2: Rapports non prot√©g√©s
checkboxInput("rapport_prot", "Rapport non prot√©g√©", FALSE),
conditionalPanel(
condition = "input.rapport_prot",
checkboxInput("pregnant", "Personne pouvant √™tre enceinte", FALSE),
# Personne √† risque VIH avec ic√¥ne info
div(
checkboxInput("vih_risk", "Personne √† risque VIH", FALSE),
icon("info-circle", style = "color: #2980B9; cursor: pointer;", id = "info_vih_risk"),
bsTooltip("info_vih_risk",
"Hommes ayant des relations sexuelles avec des hommes (HSH) et personnes transgenres avec exposition au VIH pass√©e, actuelle ou future.<br>
Origines ou partenaires de pays √† forte end√©mie (Afrique subsaharienne, Cara√Øbes, Am√©rique du Sud).<br>
Multiples partenaires (>1/an) ou partenaires concomitants.<br>
Travail du sexe ou √©changes sexuels transactionnels.<br>
Partenaires de statut VIH inconnu, per√ßus √† risque, ou vivant avec le VIH sans contr√¥le de la charge virale.<br>
Marqueurs d'exposition : autres IST, ant√©c√©dents de traitement post-exposition (TPE).<br>
Usagers de drogues injectables avec partage de mat√©riel d'injection.",
placement = "right", trigger = "hover", options = list(html = TRUE))
),
radioButtons("delai", "D√©lai depuis le rapport :",
choices = c("Moins de 48h" = "48",
"Entre 72h et 5 jours" = "72_120",
"Plus de 5 jours" = "120+"),
selected = "48")
),
tags$hr(),
# Bloc 3: Vaccination et types de rapports
selectInput("vacc_vhb", "Statut de vaccination contre l'H√©patite B (VHB)",
choices = c("Non vaccin√© ou ne sait pas", "Vaccin√©")),
checkboxGroupInput("type_rapport", "Type de rapports :",
choices = c("R√©ceptifs oraux", "R√©ceptifs vaginaux/insertifs", "R√©ceptifs anaux")),
actionButton("submit", "D√©terminer les tests et pr√©l√®vements",
class = "btn-primary",
style = "color: white; background-color: #2980B9; font-weight: bold;")
),
mainPanel(
h3("Conclusion", style = "color: #2980B9;"),
tags$hr(style = "border-color: #2980B9;"),
uiOutput("conclusion"),
h4("R√©capitulatif des r√©ponses", style = "color: #2980B9; margin-top: 20px;"),
tags$hr(),
tableOutput("recap")
)
)
)
# Serveur
server <- function(input, output) {
observeEvent(input$submit, {
# Variables pour organiser les conclusions
urgence <- ""
tests_prelevements <- ""
prep_recommandation <- ""
# Gestion des pr√©l√®vements (toujours ex√©cut√©e)
prelevements <- c()
if ("R√©ceptifs oraux" %in% input$type_rapport) prelevements <- c(prelevements, "pr√©l√®vement pharyng√©")
if ("R√©ceptifs vaginaux/insertifs" %in% input$type_rapport) prelevements <- c(prelevements, "pr√©l√®vement vaginal ou urinaire")
if ("R√©ceptifs anaux" %in% input$type_rapport) prelevements <- c(prelevements, "pr√©l√®vement anal")
if (length(prelevements) > 0) {
tests_prelevements <- paste(
"üîç PCR Chlamydia et Gonocoque :",
paste(prelevements, collapse = ", ")
)
}
# Tests de s√©rologie pour les conditions g√©n√©rales
if (input$sympt_ist || input$multi_part || input$partner_ist || input$stop_condom || input$rapport_prot) {
if (input$vacc_vhb == "Non vaccin√© ou ne sait pas") {
tests_prelevements <- paste(tests_prelevements, "üîç S√©rologies : VIH, Syphilis, VHB", sep = "<br>")
} else {
tests_prelevements <- paste(tests_prelevements, "üîç S√©rologies : VIH, Syphilis", sep = "<br>")
}
}
# Mesures d'urgence uniquement si "Rapport non prot√©g√©" est coch√©
if (input$rapport_prot) {
if (input$pregnant && input$delai %in% c("48", "72_120")) {
urgence <- "‚ö†Ô∏è <b>Contraception d'urgence recommand√©e</b> : Rendez-vous en pharmacie ou au CSS."
}
if (input$vih_risk && input$delai == "48") {
urgence <- paste(urgence, "‚ö†Ô∏è <b>Orientation urgences TPE</b> : Consultez un service d'urgences rapidement.", sep = "<br>")
}
}
# Recommandation PrEP
if (input$vih_risk) {
prep_recommandation <- "üü¢ <b>Vous pouvez parler de la PrEP</b> aux personnes pr√©sentant un risque √©lev√© d‚Äôacquisition du VIH et les orienter vers les centres de sant√© sexuelle."
}
# Affichage dynamique
output$conclusion <- renderUI({
tagList(
if (urgence != "") div(style = "background-color: #FFDDDD; border-left: 5px solid red; padding: 10px; margin-bottom: 10px;", HTML(urgence)),
if (tests_prelevements != "") div(style = "background-color: #EAF2F8; border-left: 5px solid #2980B9; padding: 10px; margin-bottom: 10px;", HTML(paste("<b>Tests et pr√©l√®vements recommand√©s :</b><br>", tests_prelevements))),
if (prep_recommandation != "") div(style = "background-color: #E8F8E9; border-left: 5px solid green; padding: 10px;", HTML(prep_recommandation))
)
})
# R√©capitulatif des r√©ponses
recap_data <- data.frame(
Question = c("Sympt√¥mes d'IST", "Partenaires multiples", "Partenaire porteur d'une IST",
"Arr√™t du pr√©servatif", "Rapport non prot√©g√©", "Personne enceinte", "Risque VIH",
"D√©lai depuis le rapport", "Vaccination VHB", "Types de rapports"),
R√©ponse = c(ifelse(input$sympt_ist, "Oui", "Non"),
ifelse(input$multi_part, "Oui", "Non"),
ifelse(input$partner_ist, "Oui", "Non"),
ifelse(input$stop_condom, "Oui", "Non"),
ifelse(input$rapport_prot, "Oui", "Non"),
ifelse(input$pregnant, "Oui", "Non"),
ifelse(input$vih_risk, "Oui", "Non"),
ifelse(input$delai == "48", "Moins de 48h",
ifelse(input$delai == "72_120", "Entre 72h et 5 jours", "Plus de 5 jours")),
input$vacc_vhb,
ifelse(length(input$type_rapport) == 0, "Aucun", paste(input$type_rapport, collapse = ", ")))
)
output$recap <- renderTable({ recap_data })
})
}
# Lancer l'application
shinyApp(ui = ui, server = server)
library(shiny)
library(shinythemes)
library(shinyBS) # Pour les infobulles interactives
# Interface utilisateur
ui <- fluidPage(
theme = shinytheme("cerulean"), # Th√®me moderne
# Titre principal stylis√©
titlePanel(
div(
style = "text-align: center;
color: #2C3E50;
font-weight: bold;
font-size: 32px;
font-family: 'Helvetica, Arial, sans-serif';
margin-bottom: 20px;",
# Ajout de l'image avant le titre
tags$img(src = "logo.png", height = "100px", style = "display: block; margin-left: auto; margin-right: auto;"),
"Arbre D√©cisionnel - Quel Test √† Qui ?"
)
),
sidebarLayout(
sidebarPanel(
h3("Questionnaire", style = "color: #2980B9;"),
tags$hr(style = "border-color: #2980B9;"),
# Bloc 1: Conditions g√©n√©rales
checkboxInput("sympt_ist", "Pr√©sence de sympt√¥mes d'IST", FALSE),
checkboxInput("multi_part", "Partenaires multiples", FALSE),
checkboxInput("partner_ist", "Partenaire porteur d'une IST", FALSE),
checkboxInput("stop_condom", "Arr√™t du pr√©servatif avec partenaire", FALSE),
tags$hr(),
# Bloc 2: Rapports non prot√©g√©s
checkboxInput("rapport_prot", "Rapport non prot√©g√©", FALSE),
conditionalPanel(
condition = "input.rapport_prot",
checkboxInput("pregnant", "Personne pouvant √™tre enceinte", FALSE),
# Personne √† risque VIH avec ic√¥ne info
div(
checkboxInput("vih_risk", "Personne √† risque VIH", FALSE),
icon("info-circle", style = "color: #2980B9; cursor: pointer;", id = "info_vih_risk"),
bsTooltip("info_vih_risk",
"Hommes ayant des relations sexuelles avec des hommes (HSH) et personnes transgenres avec exposition au VIH pass√©e, actuelle ou future.<br>
Origines ou partenaires de pays √† forte end√©mie (Afrique subsaharienne, Cara√Øbes, Am√©rique du Sud).<br>
Multiples partenaires (>1/an) ou partenaires concomitants.<br>
Travail du sexe ou √©changes sexuels transactionnels.<br>
Partenaires de statut VIH inconnu, per√ßus √† risque, ou vivant avec le VIH sans contr√¥le de la charge virale.<br>
Marqueurs d'exposition : autres IST, ant√©c√©dents de traitement post-exposition (TPE).<br>
Usagers de drogues injectables avec partage de mat√©riel d'injection.",
placement = "right", trigger = "hover", options = list(html = TRUE))
),
radioButtons("delai", "D√©lai depuis le rapport :",
choices = c("Moins de 48h" = "48",
"Entre 72h et 5 jours" = "72_120",
"Plus de 5 jours" = "120+"),
selected = "48")
),
tags$hr(),
# Bloc 3: Vaccination et types de rapports
selectInput("vacc_vhb", "Statut de vaccination contre l'H√©patite B (VHB)",
choices = c("Non vaccin√© ou ne sait pas", "Vaccin√©")),
checkboxGroupInput("type_rapport", "Type de rapports :",
choices = c("R√©ceptifs oraux", "R√©ceptifs vaginaux/insertifs", "R√©ceptifs anaux")),
actionButton("submit", "D√©terminer les tests et pr√©l√®vements",
class = "btn-primary",
style = "color: white; background-color: #2980B9; font-weight: bold;")
),
mainPanel(
h3("Conclusion", style = "color: #2980B9;"),
tags$hr(style = "border-color: #2980B9;"),
uiOutput("conclusion"),
h4("R√©capitulatif des r√©ponses", style = "color: #2980B9; margin-top: 20px;"),
tags$hr(),
tableOutput("recap")
)
)
)
# Serveur
server <- function(input, output) {
observeEvent(input$submit, {
# Variables pour organiser les conclusions
urgence <- ""
tests_prelevements <- ""
prep_recommandation <- ""
# Gestion des pr√©l√®vements (toujours ex√©cut√©e)
prelevements <- c()
if ("R√©ceptifs oraux" %in% input$type_rapport) prelevements <- c(prelevements, "pr√©l√®vement pharyng√©")
if ("R√©ceptifs vaginaux/insertifs" %in% input$type_rapport) prelevements <- c(prelevements, "pr√©l√®vement vaginal ou urinaire")
if ("R√©ceptifs anaux" %in% input$type_rapport) prelevements <- c(prelevements, "pr√©l√®vement anal")
if (length(prelevements) > 0) {
tests_prelevements <- paste(
"üîç PCR Chlamydia et Gonocoque :",
paste(prelevements, collapse = ", ")
)
}
# Tests de s√©rologie pour les conditions g√©n√©rales
if (input$sympt_ist || input$multi_part || input$partner_ist || input$stop_condom || input$rapport_prot) {
if (input$vacc_vhb == "Non vaccin√© ou ne sait pas") {
tests_prelevements <- paste(tests_prelevements, "üîç S√©rologies : VIH, Syphilis, VHB", sep = "<br>")
} else {
tests_prelevements <- paste(tests_prelevements, "üîç S√©rologies : VIH, Syphilis", sep = "<br>")
}
}
# Mesures d'urgence uniquement si "Rapport non prot√©g√©" est coch√©
if (input$rapport_prot) {
if (input$pregnant && input$delai %in% c("48", "72_120")) {
urgence <- "‚ö†Ô∏è <b>Contraception d'urgence recommand√©e</b> : Rendez-vous en pharmacie ou au CSS."
}
if (input$vih_risk && input$delai == "48") {
urgence <- paste(urgence, "‚ö†Ô∏è <b>Orientation urgences TPE</b> : Consultez un service d'urgences rapidement.", sep = "<br>")
}
}
# Recommandation PrEP
if (input$vih_risk) {
prep_recommandation <- "üü¢ <b>Vous pouvez parler de la PrEP</b> aux personnes pr√©sentant un risque √©lev√© d‚Äôacquisition du VIH et les orienter vers les centres de sant√© sexuelle."
}
# Affichage dynamique
output$conclusion <- renderUI({
tagList(
if (urgence != "") div(style = "background-color: #FFDDDD; border-left: 5px solid red; padding: 10px; margin-bottom: 10px;", HTML(urgence)),
if (tests_prelevements != "") div(style = "background-color: #EAF2F8; border-left: 5px solid #2980B9; padding: 10px; margin-bottom: 10px;", HTML(paste("<b>Tests et pr√©l√®vements recommand√©s :</b><br>", tests_prelevements))),
if (prep_recommandation != "") div(style = "background-color: #E8F8E9; border-left: 5px solid green; padding: 10px;", HTML(prep_recommandation))
)
})
# R√©capitulatif des r√©ponses
recap_data <- data.frame(
Question = c("Sympt√¥mes d'IST", "Partenaires multiples", "Partenaire porteur d'une IST",
"Arr√™t du pr√©servatif", "Rapport non prot√©g√©", "Personne enceinte", "Risque VIH",
"D√©lai depuis le rapport", "Vaccination VHB", "Types de rapports"),
R√©ponse = c(ifelse(input$sympt_ist, "Oui", "Non"),
ifelse(input$multi_part, "Oui", "Non"),
ifelse(input$partner_ist, "Oui", "Non"),
ifelse(input$stop_condom, "Oui", "Non"),
ifelse(input$rapport_prot, "Oui", "Non"),
ifelse(input$pregnant, "Oui", "Non"),
ifelse(input$vih_risk, "Oui", "Non"),
ifelse(input$delai == "48", "Moins de 48h",
ifelse(input$delai == "72_120", "Entre 72h et 5 jours", "Plus de 5 jours")),
input$vacc_vhb,
ifelse(length(input$type_rapport) == 0, "Aucun", paste(input$type_rapport, collapse = ", ")))
)
output$recap <- renderTable({ recap_data })
})
}
# Lancer l'application
shinyApp(ui = ui, server = server)
library(shiny)
library(shinythemes)
library(shinyBS) # Pour les infobulles interactives
# Interface utilisateur
ui <- fluidPage(
theme = shinytheme("cerulean"), # Th√®me moderne
# Titre principal stylis√©
titlePanel(
div(
style = "text-align: center;
color: #2C3E50;
font-weight: bold;
font-size: 32px;
font-family: 'Helvetica, Arial, sans-serif';
margin-bottom: 20px;",
# Ajout de l'image avant le titre
tags$img(src = "./logo.png", height = "100px", style = "display: block; margin-left: auto; margin-right: auto;"),
"Arbre D√©cisionnel - Quel Test √† Qui ?"
)
),
sidebarLayout(
sidebarPanel(
h3("Questionnaire", style = "color: #2980B9;"),
tags$hr(style = "border-color: #2980B9;"),
# Bloc 1: Conditions g√©n√©rales
checkboxInput("sympt_ist", "Pr√©sence de sympt√¥mes d'IST", FALSE),
checkboxInput("multi_part", "Partenaires multiples", FALSE),
checkboxInput("partner_ist", "Partenaire porteur d'une IST", FALSE),
checkboxInput("stop_condom", "Arr√™t du pr√©servatif avec partenaire", FALSE),
tags$hr(),
# Bloc 2: Rapports non prot√©g√©s
checkboxInput("rapport_prot", "Rapport non prot√©g√©", FALSE),
conditionalPanel(
condition = "input.rapport_prot",
checkboxInput("pregnant", "Personne pouvant √™tre enceinte", FALSE),
# Personne √† risque VIH avec ic√¥ne info
div(
checkboxInput("vih_risk", "Personne √† risque VIH", FALSE),
icon("info-circle", style = "color: #2980B9; cursor: pointer;", id = "info_vih_risk"),
bsTooltip("info_vih_risk",
"Hommes ayant des relations sexuelles avec des hommes (HSH) et personnes transgenres avec exposition au VIH pass√©e, actuelle ou future.<br>
Origines ou partenaires de pays √† forte end√©mie (Afrique subsaharienne, Cara√Øbes, Am√©rique du Sud).<br>
Multiples partenaires (>1/an) ou partenaires concomitants.<br>
Travail du sexe ou √©changes sexuels transactionnels.<br>
Partenaires de statut VIH inconnu, per√ßus √† risque, ou vivant avec le VIH sans contr√¥le de la charge virale.<br>
Marqueurs d'exposition : autres IST, ant√©c√©dents de traitement post-exposition (TPE).<br>
Usagers de drogues injectables avec partage de mat√©riel d'injection.",
placement = "right", trigger = "hover", options = list(html = TRUE))
),
radioButtons("delai", "D√©lai depuis le rapport :",
choices = c("Moins de 48h" = "48",
"Entre 72h et 5 jours" = "72_120",
"Plus de 5 jours" = "120+"),
selected = "48")
),
tags$hr(),
# Bloc 3: Vaccination et types de rapports
selectInput("vacc_vhb", "Statut de vaccination contre l'H√©patite B (VHB)",
choices = c("Non vaccin√© ou ne sait pas", "Vaccin√©")),
checkboxGroupInput("type_rapport", "Type de rapports :",
choices = c("R√©ceptifs oraux", "R√©ceptifs vaginaux/insertifs", "R√©ceptifs anaux")),
actionButton("submit", "D√©terminer les tests et pr√©l√®vements",
class = "btn-primary",
style = "color: white; background-color: #2980B9; font-weight: bold;")
),
mainPanel(
h3("Conclusion", style = "color: #2980B9;"),
tags$hr(style = "border-color: #2980B9;"),
uiOutput("conclusion"),
h4("R√©capitulatif des r√©ponses", style = "color: #2980B9; margin-top: 20px;"),
tags$hr(),
tableOutput("recap")
)
)
)
# Serveur
server <- function(input, output) {
observeEvent(input$submit, {
# Variables pour organiser les conclusions
urgence <- ""
tests_prelevements <- ""
prep_recommandation <- ""
# Gestion des pr√©l√®vements (toujours ex√©cut√©e)
prelevements <- c()
if ("R√©ceptifs oraux" %in% input$type_rapport) prelevements <- c(prelevements, "pr√©l√®vement pharyng√©")
if ("R√©ceptifs vaginaux/insertifs" %in% input$type_rapport) prelevements <- c(prelevements, "pr√©l√®vement vaginal ou urinaire")
if ("R√©ceptifs anaux" %in% input$type_rapport) prelevements <- c(prelevements, "pr√©l√®vement anal")
if (length(prelevements) > 0) {
tests_prelevements <- paste(
"üîç PCR Chlamydia et Gonocoque :",
paste(prelevements, collapse = ", ")
)
}
# Tests de s√©rologie pour les conditions g√©n√©rales
if (input$sympt_ist || input$multi_part || input$partner_ist || input$stop_condom || input$rapport_prot) {
if (input$vacc_vhb == "Non vaccin√© ou ne sait pas") {
tests_prelevements <- paste(tests_prelevements, "üîç S√©rologies : VIH, Syphilis, VHB", sep = "<br>")
} else {
tests_prelevements <- paste(tests_prelevements, "üîç S√©rologies : VIH, Syphilis", sep = "<br>")
}
}
# Mesures d'urgence uniquement si "Rapport non prot√©g√©" est coch√©
if (input$rapport_prot) {
if (input$pregnant && input$delai %in% c("48", "72_120")) {
urgence <- "‚ö†Ô∏è <b>Contraception d'urgence recommand√©e</b> : Rendez-vous en pharmacie ou au CSS."
}
if (input$vih_risk && input$delai == "48") {
urgence <- paste(urgence, "‚ö†Ô∏è <b>Orientation urgences TPE</b> : Consultez un service d'urgences rapidement.", sep = "<br>")
}
}
# Recommandation PrEP
if (input$vih_risk) {
prep_recommandation <- "üü¢ <b>Vous pouvez parler de la PrEP</b> aux personnes pr√©sentant un risque √©lev√© d‚Äôacquisition du VIH et les orienter vers les centres de sant√© sexuelle."
}
# Affichage dynamique
output$conclusion <- renderUI({
tagList(
if (urgence != "") div(style = "background-color: #FFDDDD; border-left: 5px solid red; padding: 10px; margin-bottom: 10px;", HTML(urgence)),
if (tests_prelevements != "") div(style = "background-color: #EAF2F8; border-left: 5px solid #2980B9; padding: 10px; margin-bottom: 10px;", HTML(paste("<b>Tests et pr√©l√®vements recommand√©s :</b><br>", tests_prelevements))),
if (prep_recommandation != "") div(style = "background-color: #E8F8E9; border-left: 5px solid green; padding: 10px;", HTML(prep_recommandation))
)
})
# R√©capitulatif des r√©ponses
recap_data <- data.frame(
Question = c("Sympt√¥mes d'IST", "Partenaires multiples", "Partenaire porteur d'une IST",
"Arr√™t du pr√©servatif", "Rapport non prot√©g√©", "Personne enceinte", "Risque VIH",
"D√©lai depuis le rapport", "Vaccination VHB", "Types de rapports"),
R√©ponse = c(ifelse(input$sympt_ist, "Oui", "Non"),
ifelse(input$multi_part, "Oui", "Non"),
ifelse(input$partner_ist, "Oui", "Non"),
ifelse(input$stop_condom, "Oui", "Non"),
ifelse(input$rapport_prot, "Oui", "Non"),
ifelse(input$pregnant, "Oui", "Non"),
ifelse(input$vih_risk, "Oui", "Non"),
ifelse(input$delai == "48", "Moins de 48h",
ifelse(input$delai == "72_120", "Entre 72h et 5 jours", "Plus de 5 jours")),
input$vacc_vhb,
ifelse(length(input$type_rapport) == 0, "Aucun", paste(input$type_rapport, collapse = ", ")))
)
output$recap <- renderTable({ recap_data })
})
}
# Lancer l'application
shinyApp(ui = ui, server = server)
runApp()
runApp()
runApp()
runApp()
runApp()
install.packages('rsconnect')
rsconnect::setAccountInfo(name='mannsau', token='3A228ADC03D732A18B156E157FCF299F', secret='qCwsw9lYPD9iF2YIvDUVwQO74DG2BsRSc0U+Cz18')
library(rsconnect)
rsconnect::deployApp('Mon_Test_IST')
getwd() # Pour confirmer votre r√©pertoire de travail actuel
rsconnect::deployApp("Mon_Test_IST")
rsconnect::deployApp()
rsconnect::deployApp()
rsconnect::showLogs(appName = "mon_test_ist", streaming = TRUE)
rsconnect::deployApp()
rsconnect::deployApp()
shiny::runApp()
install.packages("rsconnect")
library(rsconnect)
rsconnect::deployApp()
rsconnect::setAccountInfo(name='mannsau', token='3A228ADC03D732A18B156E157FCF299F', secret='qCwsw9lYPD9iF2YIvDUVwQO74DG2BsRSc0U+Cz18')
rsconnect::deployApp()
runApp()
rsconnect::deployApp()
